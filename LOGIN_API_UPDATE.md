# ุชุญุฏูุซ ูุธุงู ุชุณุฌูู ุงูุฏุฎูู ูุน API ุงูุฌุฏูุฏ

## โ ุงูุชุญุฏูุซุงุช ุงููุทุจูุฉ

### 1. **ูููุฐุฌ ุงูุจูุงูุงุช ุงูุฌุฏูุฏ**

#### LoginRequestModel

```dart
class LoginRequestModel {
  final String username;  // ุฑูู ุงูุฌูุงู
  final String password;
  final String grantType; // 'password'
}
```

#### LoginResponseModel

```dart
class LoginResponseModel {
  final String accessToken;
  final String tokenType;
}
```

### 2. **ุชุญุฏูุซ SignInState**

- โ ุชุบููุฑ `email` ุฅูู `phoneNumber`
- โ ุชุญุฏูุซ ุฌููุน ุงูุฏูุงู ูุงูุฎุตุงุฆุต
- โ ุชุญุฏูุซ ุงูุชุญูู ูู ุงููุณุงูุงุฉ

### 3. **ุชุญุฏูุซ SignInCubit**

- โ ุฅุถุงูุฉ `LoginRepository` ูุชุจุนูุฉ
- โ ุชุญุฏูุซ `updateEmail` ุฅูู `updatePhoneNumber`
- โ ุชุญุฏูุซ ุฏุงูุฉ `login()` ูุงุณุชุฎุฏุงู API ุงูุฌุฏูุฏ
- โ ุฅุถุงูุฉ ุงูุชุญูู ูู ุตุญุฉ ุฑูู ุงูุฌูุงู ุงูุณุนูุฏู
- โ ุญูุธ ุงูุชููู ุงูุญูููู ูู API

### 4. **ุชุญุฏูุซ SignInView**

- โ ุชุบููุฑ ุญูู ุงูุฅูููู ุฅูู ุฑูู ุงูุฌูุงู
- โ ุฅุถุงูุฉ `keyboardType: TextInputType.phone`
- โ ุชุญุฏูุซ ุงููุต ุงูุชูุถูุญู ุฅูู "ุฑูู ุงูุฌูุงู (+966)"
- โ ุฅุฒุงูุฉ BlocProvider ุงูููุฑุฑ

### 5. **ุชุญุฏูุซ Routes**

- โ ุฅุถุงูุฉ `LoginRepository` ูู RepositoryProvider
- โ ุชูุฑูุฑ Repository ุฅูู SignInCubit

## ๐ง **API ุงูุฌุฏูุฏ**

### **Endpoint:**

```
POST /api/v1/auth/login
```

### **Request Body:**

```json
{
  "username": "+966500000000",
  "password": "admin_password_123",
  "grant_type": "password"
}
```

### **Response:**

```json
{
  "access_token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
  "token_type": "bearer"
}
```

## ๐ฑ **ุงูุชุญุณููุงุช ุงููุถุงูุฉ**

### 1. **ุงูุชุญูู ูู ุตุญุฉ ุฑูู ุงูุฌูุงู**

```dart
bool _isValidSaudiPhoneNumber(String phoneNumber) {
  final phoneRegex = RegExp(r'^\+966[0-9]{9}$');
  return phoneRegex.hasMatch(phoneNumber);
}
```

### 2. **ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก ุงููุญุณูุฉ**

- ุฑุณุงุฆู ุฎุทุฃ ุจุงููุบุฉ ุงูุนุฑุจูุฉ
- ูุนุงูุฌุฉ ุฃุฎุทุงุก ุงูุดุจูุฉ
- ูุนุงูุฌุฉ ุฃุฎุทุงุก ุงูุฎุงุฏู

### 3. **ุญูุธ ุงูุชููู ุงูุญูููู**

- ุญูุธ `access_token` ูู API
- ุญูุธ ุจูุงูุงุช ุงููุณุชุฎุฏู
- ุฅุฏุงุฑุฉ ุงูุชูุงุก ุตูุงุญูุฉ ุงูุชููู

## ๐ฏ **ุงูููุฒุงุช ุงูุฌุฏูุฏุฉ**

### 1. **ุชุณุฌูู ุงูุฏุฎูู ุจุฑูู ุงูุฌูุงู**

- โ ุฏุนู ุฃุฑูุงู ุงูุฌูุงู ุงูุณุนูุฏูุฉ
- โ ุงูุชุญูู ูู ุตุญุฉ ุงูุชูุณูู
- โ ุฑุณุงุฆู ุฎุทุฃ ูุงุถุญุฉ

### 2. **ุชูุงูู API ูุงูู**

- โ ุงุณุชุฏุนุงุก API ุญูููู
- โ ูุนุงูุฌุฉ ุงูุงุณุชุฌุงุจุฉ
- โ ุญูุธ ุงูุชููู

### 3. **ุชุญุณูู ุชุฌุฑุจุฉ ุงููุณุชุฎุฏู**

- โ ููุญุฉ ููุงุชูุญ ุฑูููุฉ
- โ ุชูุณูู ุชููุงุฆู ูุฑูู ุงูุฌูุงู
- โ ุฑุณุงุฆู ุฎุทุฃ ูุงุถุญุฉ

## ๐ **ุชุฏูู ุงูุนูู ุงูุฌุฏูุฏ**

1. **ุฅุฏุฎุงู ุงูุจูุงูุงุช:**

   - ุงููุณุชุฎุฏู ูุฏุฎู ุฑูู ุงูุฌูุงู (+966)
   - ุงููุณุชุฎุฏู ูุฏุฎู ูููุฉ ุงููุฑูุฑ

2. **ุงูุชุญูู ูู ุตุญุฉ ุงูุจูุงูุงุช:**

   - ุงูุชุญูู ูู ูุฌูุฏ ุงูุจูุงูุงุช
   - ุงูุชุญูู ูู ุตุญุฉ ุชูุณูู ุฑูู ุงูุฌูุงู

3. **ุงุณุชุฏุนุงุก API:**

   - ุฅุฑุณุงู ุทูุจ POST ุฅูู `/api/v1/auth/login`
   - ูุนุงูุฌุฉ ุงูุงุณุชุฌุงุจุฉ

4. **ุญูุธ ุงูุจูุงูุงุช:**

   - ุญูุธ `access_token`
   - ุญูุธ ุจูุงูุงุช ุงููุณุชุฎุฏู
   - ุชุนููู ุงูุชูุงุก ุงูุตูุงุญูุฉ

5. **ุงูุงูุชูุงู:**
   - ุงูุงูุชูุงู ุฅูู ุตูุญุฉ ุงูุจุฑููุงูู
   - ุชุณุฌูู ุงูุฏุฎูู ุงูุชููุงุฆู

## ๐ก๏ธ **ุงูุฃูุงู**

### 1. **ุงูุชุญูู ูู ุตุญุฉ ุงูุจูุงูุงุช**

- ุชูุณูู ุฑูู ุงูุฌูุงู ุงูุณุนูุฏู
- ุงูุชุญูู ูู ูุฌูุฏ ุงูุจูุงูุงุช

### 2. **ุญูุธ ุขูู ููุชููู**

- ุงุณุชุฎุฏุงู FlutterSecureStorage
- ุฅุฏุงุฑุฉ ุงูุชูุงุก ุงูุตูุงุญูุฉ

### 3. **ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก**

- ุฑุณุงุฆู ุฎุทุฃ ุขููุฉ
- ุนุฏู ูุดู ูุนูููุงุช ุญุณุงุณุฉ

## ๐ **ุงููููุงุช ุงููุญุฏุซุฉ**

1. **lib/views/auth/login/data/login_request_model.dart** - ุฌุฏูุฏ
2. **lib/views/auth/login/data/login_response_model.dart** - ุฌุฏูุฏ
3. **lib/views/auth/login/data/login_repository.dart** - ุฌุฏูุฏ
4. **lib/views/auth/login/ui/logic/cubit/sign_in_state.dart** - ูุญุฏุซ
5. **lib/views/auth/login/ui/logic/cubit/sign_in_cubit.dart** - ูุญุฏุซ
6. **lib/views/auth/login/ui/sign_in_view.dart** - ูุญุฏุซ
7. **lib/core/routing/routes.dart** - ูุญุฏุซ

## ๐ **ุงููุชูุฌุฉ ุงูููุงุฆูุฉ**

ุชู ุชุญุฏูุซ ูุธุงู ุชุณุฌูู ุงูุฏุฎูู ุจุงููุงูู ููุชูุงูู ูุน:

- โ API ุงูุฌุฏูุฏ
- โ ุฑูู ุงูุฌูุงู ุจุฏูุงู ูู ุงูุฅูููู
- โ ุญูุธ ุงูุชููู ุงูุญูููู
- โ ุงูุชุญูู ูู ุตุญุฉ ุงูุจูุงูุงุช
- โ ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก ุงููุญุณูุฉ
- โ ุชุฌุฑุจุฉ ูุณุชุฎุฏู ูุญุณูุฉ

ุงููุธุงู ุฌุงูุฒ ุงูุขู ููุนูู ูุน API ุงูุญูููู! ๐
